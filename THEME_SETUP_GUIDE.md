# Руководство по настройке темы

## Обзор
В приложении реализована система управления темами с поддержкой светлой, темной и системной тем.

## Компоненты системы тем

### 1. ThemeContext (`src/contexts/ThemeContext.tsx`)
Основной контекст для управления темами:
- **ThemeMode**: `'light' | 'dark' | 'system'`
- **ColorScheme**: `'light' | 'dark'` (актуальная тема)
- Автоматическое сохранение в AsyncStorage
- Поддержка системной темы

### 2. useColorScheme Hook (`src/hooks/useColorScheme.ts`)
Обновленный хук, который использует ThemeContext вместо системного хука React Native.

### 3. Компоненты UI

#### ThemeSelector (`src/components/ThemeSelector.tsx`)
Полный селектор темы с тремя опциями:
- Светлая тема
- Темная тема  
- Системная тема

#### QuickThemeToggle (`src/components/QuickThemeToggle.tsx`)
Быстрый переключатель темы для ProfileScreen:
- Циклическое переключение: Светлая → Темная → Системная → Светлая
- Показывает текущую тему и подсказку

### 4. Экраны

#### ThemeSettingsScreen (`src/screens/profile/ThemeSettingsScreen.tsx`)
Полный экран настроек темы с:
- Детальным описанием каждой темы
- Информационным блоком
- Использованием ThemeSelector

## Использование

### Базовое использование в компонентах
```tsx
import { useColorScheme } from '../hooks/useColorScheme';

const MyComponent = () => {
  const colorScheme = useColorScheme();
  const bgColor = colorScheme === 'dark' ? '#121212' : '#F5F7FA';
  const textColor = colorScheme === 'dark' ? '#FFFFFF' : '#000000';
  
  return (
    <View style={{ backgroundColor: bgColor }}>
      <Text style={{ color: textColor }}>Текст</Text>
    </View>
  );
};
```

### Управление темой
```tsx
import { useTheme } from '../contexts/ThemeContext';

const SettingsComponent = () => {
  const { themeMode, setThemeMode } = useTheme();
  
  return (
    <TouchableOpacity onPress={() => setThemeMode('dark')}>
      <Text>Переключить на темную тему</Text>
    </TouchableOpacity>
  );
};
```

## Навигация

### Добавленные маршруты
- `ThemeSettings` - полный экран настроек темы

### Доступ к настройкам темы
1. **ProfileScreen** → Быстрый переключатель (QuickThemeToggle)
2. **ProfileScreen** → "Тема оформления" → ThemeSettingsScreen
3. **ProfileSettingsScreen** → Иконка палитры → ThemeSettingsScreen

## Особенности реализации

### Сохранение настроек
- Настройки темы автоматически сохраняются в AsyncStorage
- Ключ: `@theme_mode`
- Загружаются при запуске приложения

### Системная тема
- Автоматически следует настройкам устройства
- Обновляется при изменении системной темы
- Использует `useColorScheme` из React Native

### Обратная совместимость
- Все существующие компоненты продолжают работать
- `useColorScheme` hook обновлен для использования нового контекста
- Сохранена та же API для получения цветовой схемы

## Цветовая схема

### Светлая тема
- Фон: `#F5F7FA`
- Карточки: `#FFFFFF`
- Текст: `#000000`

### Темная тема
- Фон: `#121212`
- Карточки: `#2A2A2A`
- Текст: `#FFFFFF`

### Акцентный цвет
- Основной: `#FC094C`
- Прозрачный: `#FC094C20` (для фонов иконок)

## Тестирование

### Проверка функциональности
1. Откройте ProfileScreen
2. Используйте быстрый переключатель для циклического переключения тем
3. Перейдите в "Тема оформления" для детальных настроек
4. Проверьте сохранение настроек после перезапуска приложения
5. Протестируйте системную тему, изменив тему в настройках устройства

### Проверка UI
- Все экраны должны корректно отображаться в обеих темах
- Переходы между темами должны быть плавными
- Иконки и текст должны быть читаемыми в обеих темах

## Расширение

### Добавление новых цветов
Обновите цветовые константы в компонентах или создайте централизованную систему цветов.

### Добавление новых тем
Расширьте `ThemeMode` тип и добавьте логику в `ThemeContext`.

### Кастомизация переходов
Добавьте анимации при переключении тем используя Animated API.
